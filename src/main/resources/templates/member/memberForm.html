<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/member/signup.css}">
</th:block>

<th:block layout:fragment="script">
    <script th:src="@{/js/member/signup.js}" defer></script>
</th:block>

<div layout:fragment="content">
    <div class="auth-container">
        <div class="auth-title">
            <h2>🐾 회원가입 🐾</h2>
        </div>

        <form action="/members/new" method="post" th:object="${memberFormDto}" id="joinForm">

            <!-- 가입 유형 -->
            <div class="form-group">
                <label>가입 유형 <sup>*</sup></label>
                <label><input type="radio" name="role" value="USER" checked> 개인회원</label>
                <label><input type="radio" name="role" value="ADMIN"> 관리자</label>
            </div>

            <!-- 이메일 -->
            <div class="form-group">
                <label>아이디 <sup>*</sup></label>
                <div class="inline-group">
                    <input type="text" th:field="*{email}" id="email">
                    <button type="button" class="btn sub-btn" id="checkEmailBtn">중복확인</button>
                </div>
                <p class="field-error" th:errors="*{email}"></p>
            </div>

            <!-- 이메일 인증 -->
            <div class="form-group">
                <button type="button" class="btn sub-btn" id="sendMailBtn">인증하기</button>
            </div>

            <div class="form-group">
                <label>인증 코드 <sup>*</sup></label>
                <div class="inline-group">
                    <input type="text" id="emailCode">
                    <button type="button" class="btn sub-btn" id="checkCodeBtn">확인</button>
                </div>
            </div>

            <!-- 비밀번호 -->
            <div class="form-group">
                <label>비밀번호 <sup>*</sup></label>
                <input type="password" th:field="*{password}">
                <p class="field-error" th:errors="*{password}"></p>
            </div>

            <div class="form-group">
                <label>비밀번호 확인</label>
                <input type="password" th:field="*{confirmPassword}">
                <p class="field-error" th:errors="*{confirmPassword}"></p>
            </div>

            <!-- 이름 / 전화 -->
            <div class="form-group">
                <label>이름 <sup>*</sup></label>
                <input type="text" th:field="*{name}">
                <p class="field-error" th:errors="*{name}"></p>
            </div>

            <div class="form-group">
                <label>전화번호 <sup>*</sup></label>
                <input type="text" th:field="*{phoneNumber}">
                <p class="field-error" th:errors="*{phoneNumber}"></p>
            </div>

            <!-- 주소 -->
            <div class="form-group">
                <label>주소 <sup>*</sup></label>
                <button type="button" class="btn sub-btn" id="addressBtn">주소검색</button>
                <input type="text" th:field="*{address1}" id="roadAddress">
                <input type="text" th:field="*{address2}">
            </div>

            <!-- 버튼 -->
            <div class="btn-group">
                <a href="/members/login" class="btn cancel">취소</a>
                <button type="submit" class="btn primary">회원가입</button>
            </div>

            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </form>
    </div>
</div>
</html>
