<header th:fragment="header" class="header">
    <div class="headerTop">
        <div class="headerCenter">
            <!-- 🔥 햄버거 버튼 (모바일 전용) -->
            <button class="hamburger-btn" aria-label="메뉴 열기" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <div class="headerLogo">
                <a th:href="@{/}">
                    <img th:src="@{/img/logoTitle.png}" alt="homeLogo"/>
                </a>
            </div>

            <form th:action="@{/}" method="get" class="searchBtn">
                <input class="search-input" name="searchQuery" type="search" placeholder="검색어를 입력해주세요">
                <button class="btnSearch" type="submit">
                    <span class="material-symbols-outlined">search</span>
                </button>
            </form>

            <!-- PC 전용 상단 메뉴 -->
            <ul class="myInfo pc-only">
                <li sec:authorize="isAuthenticated()" class="top cart-wrapper">
                    <a th:href="@{/cart}" class="icon-link">
                        <span class="material-symbols-outlined">shopping_cart</span>
                        <span id="cart-count" class="cart-badge">0</span>
                    </a>
                </li>

                <li sec:authorize="isAuthenticated()" class="top dropdown">
                    <a href="javascript:void(0)" class="dropbtn">마이페이지 <span class="arrow-down">▼</span></a>
                    <ul class="dropdown-content">
                        <li><a th:href="@{/members/mypage}">내 정보 수정</a></li>
                        <li><a th:href="@{/orders}">주문 내역</a></li>
                        <li><a th:href="@{/members/logout}">로그아웃</a></li>
                    </ul>
                </li>

                <li sec:authorize="isAnonymous()" class="top">
                    <a th:href="@{/members/login}">로그인</a>
                </li>
            </ul>

        </div>

        <ul class="headerCategory">
            <li class="mobile-only" sec:authorize="isAnonymous()">
                <a th:href="@{/members/login}" class="mobile-login-btn">로그인 / 회원가입</a>
            </li>

            <li class="mobile-only" sec:authorize="isAuthenticated()">
                <div class="mobile-user-info">
                    <strong>마이페이지</strong>
                    <a th:href="@{/members/mypage}">내 정보 수정</a>
                    <a th:href="@{/orders}">주문 내역</a>
                    <a th:href="@{/cart}">장바구니 (<span id="mobile-cart-count">0</span>)</a>
                    <a th:href="@{/members/logout}" class="logout-text">로그아웃</a>
                </div>
            </li>

            <li class="mobile-only divider"></li>

            <li class="menu" th:each="category : ${T(com.fluffypuppy.shop.item.constant.ItemCategory).values()}">
                <a th:href="@{'/category/' + ${category.name().toLowerCase()}}"
                   th:text="${category.description}">카테고리명</a>
            </li>
        </ul>
    </div>
</header>

